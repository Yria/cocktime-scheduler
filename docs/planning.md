배드민턴 팀을 만드는 서비스를 만들거야. 모바일페이지만 필요하고 PC에선 모바일 레이아웃 그대로 나와.
페이지는 3페이지로 구성되어있어.
1. 홈: 회원리스트를 가져와 싱크함. 회원리스트는 google sheet 에 있음. (실제로 구현할 필욘 없음.)
2. 세션 설정: 팀 구성을 위한 설정을 하는 페이지. 코트 수를 선택할 수 있고 여성멤버중 남3여1 로 배치가능한 사람을 선택. 그리고 전체 회원리스트에서 참가한 인원을 선택할 수 있는 리스트. (멤버 검색이 가능)
3. 코트 현황: 현재 코트에 어떤 인원이 참가하고 있는지, 대기는 누군지, 휴식은 누군지 디스플레이, 하단에 팀 생성버튼과 예약생성 버튼이 있음. 팀 생성누르면 대기중 4명 자동으로 뽑아서 선택함. 예약생성은 참여인원중 특정 인원을 미리 지정할 수 있음. 이후 코트의 경기가 종료되면 랜덤을 돌리거나 미리 만든 팀을 넣을 수 있음.

점수계산은 할 필요 없고 순수하게 팀만 짜는 서비스야. 목업데이터를 이용해서 기능이 동작하는지 확인해. 팀 생성을 누를때 매칭은 현재는 랜덤으로 해줘.

사용자는 아래와 같은 방식으로 앱을 작동할거야

1. 사전 준비 및 로비 (세션 시작 전)
선수 데이터 관리: 클럽 관리자는 구글 스프레드시트에 오늘 참석할 선수 명단(이름, 성별, 급수 등)을 미리 관리합니다.
앱 접속 및 연동: 경기장에 도착한 관리자(또는 공용 태블릿 등)가 '콕타임' 웹/앱에 접속합니다. 앱이 구글 스프레드시트 API와 연동하여 오늘 참석할 선수 데이터를 자동으로 불러옵니다.
세션 시작: 인원이 로드된 것을 확인한 후, "세션 시작" 버튼을 눌러 본격적인 배정 모드로 진입합니다.
2. 세션 운용 (대기 및 코트 배정)
게임이 시작되면 모든 인원은 기본적으로 **대기 명단(Waiting List)**에 등록됩니다.

자동 매칭 (스마트 팀 편성):
빈 코트가 있고 대기자가 4명 이상일 때 매칭 버튼을 누릅니다.
앱이 **이전 게임 이력(Pair History), 혼복/남복/여복 이력(Mixed History), 개인별 누적 게임 수(Game Count)**를 분석하여 누구도 소외되지 않도록 가장 밸런스 있고 합리적인 4인(A팀 2명 vs B팀 2명)을 자동 구성합니다.
구성된 팀을 비어있는 특정 코트로 **배정(Assign)**합니다.
지정 게임 예약 (Reservation):
"이번 게임은 우리끼리 쳐보자"고 하는 2~4명의 그룹이 있다면 수동으로 지정 게임을 예약할 수 있습니다. 이미 다른 코트에서 치고 있는 사람이라도 미리 지정해 두면, 앞선 게임이 끝나는 대로 해당 예약 그룹으로 모이게 됩니다.
3. 실시간 진행 및 상태 관리
실시간 동기화(Supabase Realtime): 하나의 공용 태블릿뿐만 아니라 참석자 각자의 스마트폰으로 같은 페이지에 접속해도, Supabase를 통해 실시간으로 코트와 대기 명단 상태가 동기화됩니다. 내 차례가 언제인지 각자 자리에서 확인할 수 있습니다.
휴식 관리 (Resting List):
누군가 화장실에 가거나 체력이 다해 한 턴 쉬고 싶다면, 명단에서 해당 인원을 휴식 상태로 전환(Toggle Resting) 합니다. 이 사람은 매칭 알고리즘 대상에서 잠시 제외됩니다.
쉴 만큼 쉬고 다시 치고 싶으면 다시 대기자 명단으로 복귀시킵니다.
코트 게임 완료: 특정 코트에서 25점(또는 정해진 점수) 게임이 끝나면, 사용자가 해당 코트의 팀을 "완료(Complete)" 처리합니다. 코트는 다시 빈 상태가 되고, 게임을 마친 4명은 다시 대기자 명단으로 돌아갑니다(만약 예약된 게임이 있었다면 그쪽 참가 대기 상태로 빠집니다).
4. 세션 종료 (모임 마감)
오늘의 정모가 모두 끝나면, 관리자는 "세션 종료" 버튼을 눌러 운영을 마무리합니다.
세션이 종료되면 현재의 매칭 기록들을 저장/초기화하고 연결을 해제합니다.